patterns:
  "player":
    - shot_velocity: [set, 50, 0]
    - endless:
      - if:
          command: fire
          then:
            - shot_position: [set, 50, 90]
            - fire:
            - shot_position: [set, 50, -90]
            - fire:
            - wait: 3
  "enemy1":
    - shot_velocity: [set, 400, 180, polar, absolute]
    - parallel:
      - endless:
        - sequence:
          - fire:
          - wait: 60
      - sequence:
        - wait: 240
        - if:
            expression: 1 == 1
            then:
              - velocity: [add, 2, 0]
            else:
              - velocity: [add, 15, 180]
        - endless:
          - velocity: [add, 0.5, 180]
  "enemy2":
    - velocity: [set, 16, 180]
    - wait: 25
    - speed: [set, 0]
    - shot_distance: [add, 60]
    - shot_bearing_angular_velocity: [set, 1.5]
    - shot_speed: [add, 4]
    - loop:
        count: 300
        pattern:
          - loop:
              count: 4
              pattern:
                - shot_bearing: [add, 90]
                - shot_direction: [add, 3]
                - fire:
          - wait: 2
    - velocity: [set, 16, 180]

definitions:
  "accelerate":
    arguments: [spd, dir]
    pattern:
      - endless:
        - addvelocity: [spd, dir]
